<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secret Cipher</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b5ed7">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="brand">
    <h1>🔐 Secret Cipher</h1>
  </div>
  <div class="nav-buttons">
    <a href="index.html" class="btn ghost">Home</a>
    <a href="quiz.html" class="btn ghost">Quiz</a>
    <a href="login.html" class="btn ghost" id="btnSignIn">Sign in / Sign up</a>
    <button id="btnLogout" class="btn warn hidden">Logout</button>
  </div>
</header>

<main class="main">
  <section id="tool" class="card">
    <h3>📝 Cipher Tool</h3>
    <label class="small">Input</label>
    <textarea id="input" placeholder="Type your message..."></textarea>

    <div class="controls">
      <button class="btn" onclick="encode()">Encode</button>
      <button class="btn ghost" onclick="decode()">Decode</button>
      <button class="btn ghost" onclick="smartDetect()">Smart Detect</button>
      <button class="btn ghost" onclick="copyOutput()">Copy</button>
      <button class="btn ghost" onclick="clearAll()">Clear</button>
    </div>

    <label class="small">Output</label>
    <textarea id="output" readonly placeholder="Result will appear here..."></textarea>
  </section>

  <aside class="card">
    <h4>📜 History</h4>
    <div id="historyList"></div>
    <div class="controls">
      <button class="btn ghost" onclick="copyHistory()">Copy All</button>
      <button class="btn ghost" onclick="exportBackup()">Export</button>
      <button class="btn ghost" onclick="importBackup()">Import</button>
      <button class="btn warn" onclick="clearHistory()">Clear</button>
    </div>
  </aside>
</main>

<footer>© <span id="year"></span> Secret Cipher</footer>
<div id="toast"></div>

<script type="module" src="firebase-init.js"></script>
<script src="cipher.js"></script>
</body>
</html>